<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="root">
    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png" alt="" id="imgSqr">
  </div>
  <!-- <h1>버전</h1>
  <h1>도감번호</h1>
  <h1>이름</h1>
  <h1>도감번호</h1> -->
  <script>
    const root = document.getElementById('root')
    const imgSqr = document.getElementById('imgSqr')
    
    // ------------root url 시작
    // const xhr = new XMLHttpRequest();
    // // const rootUrl = 'https://pokeapi.co/api/v2/' // rootUrl
    // const _URL = 'https://pokeapi.co/api/v2/' // rootUrl
    // // const _URL = 'https://pokeapi.co/api/v2/pokemon'
    // xhr.open('GET',_URL)
    // xhr.send();
    // xhr.addEventListener("load",function(){     //rootUrl부분
    //   // console.log(xhr.response)
    //   console.log("--------------------------------------------")
    //   const _PokeData = JSON.parse(xhr.response)
      
    //   console.dir(_PokeData)
    //   let kids = Object.keys(_PokeData)
    //   console.dir(kids)
    //   let values = Object.values(_PokeData)
    //   for(let i=0;i<kids.length;i++){
        
    //     const h1 = document.createElement('h1')
    //     h1.textContent = kids[i]+" : "+values[i]
    //     root.appendChild(h1)
    //   }
    //   console.dir(_PokeData) //루트 URL부분 콘솔dir
    // })
    
    const xhr1 = new XMLHttpRequest();
    const _URLDex = 'https://pokeapi.co/api/v2/pokedex/1' //전체넘버 추출용
    // const _URLMonDexObject = {   //객체로 저장이 가능한가?
    //   lemita : tatata,
    // }
    // const totVal = []
    // const _URLMonDex = ["일번","이번"]
    // const _URLMonName = ["피카츄","라이츄"]

    // function insertPokemonValue(totArray,fistArray,secondArray){
    //   let exarray = totArray
    //   for(let i=0;i<fistArray.length;i++){
    //     exarray.push([fistArray[i],secondArray[i]])
    //   }
    //   return exarray
    // }
    // insertPokemonValue(totVal,_URLMonDex,_URLMonName)
    // console.log(totVal);

    xhr1.open('GET',_URLDex)
    xhr1.send();
    xhr1.addEventListener("load",function(){  
      // console.log(xhr1.response)
      console.log("--------------------------------------------1")
      const _PokeData = JSON.parse(xhr1.response)
      
      // const h1 = document.createElement('h1')
      // h1.textContent = _PokeData.name
      // root.appendChild(h1)
      // _URLMonDex.push(_PokeData.)
      console.dir("************************************************2") 
      console.dir(_PokeData.pokemon_entries) //pokedex부분 콘솔dir
      console.dir(_PokeData.pokemon_entries.length) //pokedex Length값
      console.dir(_PokeData.pokemon_entries[1].entry_number) //pokedex 부분 index
      console.dir(_PokeData.pokemon_entries[1].pokemon_species.name) //pokedex부분 name
      console.dir("************************************************3") 
    })
    
    const xhr2 = new XMLHttpRequest();
    
    // for(let i=0;i<)
    // const _URLMon = `https://pokeapi.co/api/v2/pokemon/666`//포켓몬개별 이름
    const _URLMon = `https://pokeapi.co/api/v2/pokemon-species/1`
    
    xhr2.open('GET',_URLMon)
    xhr2.send();
    xhr2.addEventListener("load",function(){     
      console.log("--------------------------------------------4")
      const _PokeData = JSON.parse(xhr2.response)
      const h1 = document.createElement('h1')
      h1.textContent = _PokeData.name
      root.appendChild(h1)
      console.dir(_PokeData) 
      console.log(_PokeData.id+"구분")
    })
    
    let pokeKoName = []

    // for(let index = 1;index<1008;index++){  // ------------------------원본
      //   const xhr3 = new XMLHttpRequest();
      //   const _URLManual = `https://pokeapi.co/api/v2/pokemon-species/${index}`//포켓몬 넘버(한글이름 들어있는 부분)
      //   xhr3.open('GET',_URLManual)
      //   xhr3.send();
      //   xhr3.addEventListener("load",function(){     
        //     const _PokeData = JSON.parse(xhr3.response)
    //     const h1 = document.createElement('h1')
    
    //   for(let i=0;i<_PokeData.names.length;i++){ // 포켓몬 한글 이름
    //     if(_PokeData.names[i].language.name==="ko"){
    //       pokeKoName.push([_PokeData.id,_PokeData.names[i].name])
    
    //       h1.textContent = _PokeData.names[i].name+_PokeData.id
    //       root.appendChild(h1)
    //     }
    //   }
    //   })
    // }// -------------------------------------------------------------원본
    
    for(let index = 1;index<=1008;index++){  // ------------------------원본
      const xhr3 = new XMLHttpRequest();
      const _URLManual = `https://pokeapi.co/api/v2/pokemon-species/${index}`//포켓몬 넘버(한글이름 들어있는 부분)
      xhr3.open('GET',_URLManual)
      xhr3.send();
      xhr3.addEventListener("load",function(){     
        const _PokeData = JSON.parse(xhr3.response)
        const h1 = document.createElement('h1')
        
        for(let i=0;i<_PokeData.names.length;i++){ // 포켓몬 한글 이름
          if(_PokeData.names[i].language.name==="ko"){
            pokeKoName.push([_PokeData.id, _PokeData.names[i].name])
            pokeKoName.sort((a, b) => a[0] - b[0])
            
            h1.textContent = _PokeData.names[i].name+_PokeData.id
            root.appendChild(h1)
          }
        }
      })
    }
    console.log(pokeKoName.length+"입니다")
    
    console.log(pokeKoName[0])
    console.log(pokeKoName)
    
    let eeeeeee = []
    console.log(eeeeeee.length+"배열 선언후")
    console.log(eeeeeee.length+"맨 마지막")
    
    
    imgSqr.addEventListener('click',function(){
      for(let a = 0;a<pokeKoName.length;a++){
        eeeeeee.push(a)
      }
      console.log(eeeeeee.length+":addevent 후---------*/-*/-*")
      console.log(pokeKoName[0])
      console.log(eeeeeee)
    })

    </script>
</body>
</html>